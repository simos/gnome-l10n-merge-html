<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>2. Layer Modes</title>
    <link rel="stylesheet" href="gimp-help-plain.css" type="text/css" />
    <link rel="stylesheet" href="gimp-help-screen.css" type="text/css" />
    <link rel="stylesheet" href="gimp-help-custom.css" type="text/css" />
    <link rel="alternate stylesheet" href="gimp22.css" type="text/css" title="gimp22" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.75.2" />
    <link rel="home" href="index.html" title="GNU Image Manipulation Program" />
    <link rel="up" href="gimp-image-combining.html" title="Chapter 8. Combining Images" />
    <link rel="prev" href="gimp-image-combining.html" title="Chapter 8. Combining Images" />
    <link rel="next" href="gimp-using-layers.html" title="3. Creating New Layers" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">2. Layer Modes</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="gimp-image-combining.html"><img src="images/prev.png" alt="Prev" /></a> </td>
          <th width="60%" align="center">Chapter 8. Combining Images</th>
          <td width="20%" align="right"> <a accesskey="n" href="gimp-using-layers.html"><img src="images/next.png" alt="Next" /></a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="sect1" title="2. Layer Modes">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title" style="clear: both"><a id="gimp-concepts-layer-modes"></a>2. Layer Modes</h2>
          </div>
        </div>
      </div>
      <a id="id3132399" class="indexterm"></a>
      <a id="id3120342" class="indexterm"></a>
      <a id="id3159492" class="indexterm"></a>
      <p>
    <acronym class="acronym">GIMP</acronym> has twenty-one layer modes. Layer modes are also
    sometimes called <span class="quote">“<span class="quote">blending modes</span>”</span>.
    Selecting a layer mode changes the appearance of the layer or image,
    based on the layer or layers beneath it. If there is only one layer, the
    layer mode has no effect. There must therefore be at least two layers in
    the image to be able to use layer modes.
  </p>
      <p>
    You can set the layer mode in the <span class="guilabel">Mode</span>
    menu in the Layers dialog. <acronym class="acronym">GIMP</acronym>
    uses the layer mode to determine how to combine each pixel in the top
    layer with the pixel in the same location in the layer below it.
  </p>
      <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top" width="25">
              <img alt="[Note]" src="images/note.png" />
            </td>
            <th align="left">Note</th>
          </tr>
          <tr>
            <td align="left" valign="top">
              <p>
      There is a drop-down list in the Toolbox options box which contains
      modes that affect the painting tools in a similar way to the layer
      modes. You can use all of the same modes for painting that are available
      for layers, and there are two additional modes just for the painting
      tools. See <a class="xref" href="gimp-tools-brush.html" title="3.2. Brush Tools (Pencil, Paintbrush, Airbrush)">Section 3.2, “Brush Tools (Pencil, Paintbrush, Airbrush)”</a>.
    </p>
            </td>
          </tr>
        </table>
      </div>
      <p>
    Layer modes permit complex color changes in the image. They are often used
    with a new layer which acts as a kind of mask. For example, if you put a
    solid white layer over an image and set the layer mode of the new layer to
    <span class="quote">“<span class="quote">Saturation</span>”</span>, the underlying visible layers will appear in
    shades of gray.
  </p>
      <div class="figure">
        <a id="id3161175"></a>
        <p class="title">
          <b>Figure 8.8. Images (masks) for layer mode examples</b>
        </p>
        <div class="figure-contents">
          <div class="mediaobject">
            <img src="images/using/layer-mode-mask1.jpg" alt="Images (masks) for layer mode examples" />
            <div class="caption">
              <p>Mask 1</p>
            </div>
          </div>
          <div class="mediaobject">
            <img src="images/using/layer-mode-mask2.jpg" alt="Images (masks) for layer mode examples" />
            <div class="caption">
              <p>Mask 2</p>
            </div>
          </div>
        </div>
      </div>
      <br class="figure-break" />
      <div class="figure">
        <a id="id3208729"></a>
        <p class="title">
          <b>Figure 8.9. Images (backgrounds) for layer mode examples</b>
        </p>
        <div class="figure-contents">
          <div class="mediaobject">
            <img src="images/using/keyfob_orig.png" alt="Images (backgrounds) for layer mode examples" />
            <div class="caption">
              <p>Key fob</p>
            </div>
          </div>
          <div class="mediaobject">
            <img src="images/using/duck_orig.png" alt="Images (backgrounds) for layer mode examples" />
            <div class="caption">
              <p>Ducks</p>
            </div>
          </div>
        </div>
      </div>
      <br class="figure-break" />
      <p>
    In the descriptions of the layer modes below, the equations are also
    shown. This is for those who are curious about the mathematics of the
    layer modes. You do not need to understand the equations in order to use
    the layer modes effectively, however.
  </p>
      <p>
    The equations are in a shorthand notation. For example, the equation
  </p>
      <div class="equation">
        <a id="id3208796"></a>
        <p class="title">
          <b>Equation 8.1. Example</b>
        </p>
        <div class="equation-contents">
          <div>
            <img src="images/math/layer-mode-example.png" />
          </div>
        </div>
      </div>
      <br class="equation-break" />
      <p>
    means,
    <span class="quote">“<span class="quote">
      For each pixel in the upper (<span class="emphasis"><em>M</em></span>ask)and lower
      (<span class="emphasis"><em>I</em></span>mage) layer, add each of the
      corresponding color components together to form the
      <span class="emphasis"><em>E</em></span> resulting pixel's color.
    </span>”</span>
    Pixel color components must always be between 0 and 255.
  </p>
      <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top" width="25">
              <img alt="[Note]" src="images/note.png" />
            </td>
            <th align="left">Note</th>
          </tr>
          <tr>
            <td align="left" valign="top">
              <p>
      Unless the description below says otherwise, a negative color component
      is set to 0 and a color component larger than 255 is set to 255.
    </p>
            </td>
          </tr>
        </table>
      </div>
      <p>
    The examples below show the effects of each of the modes.
  </p>
      <p>
    Since the results of each mode vary greatly depending upon the colors on
    the layers, these images can only give you a general idea of how the modes
    work. You are encouraged to try them out yourself. You might start with
    two similar layers, where one is a copy of the other, but slightly
    modified (by being blurred, moved, rotated, scaled, color-inverted, etc.)
    and seeing what happens with the layer modes.
  </p>
      <div class="variablelist">
        <dl>
          <dt>
            <span class="term">Normal</span>
          </dt>
          <dd>
            <a id="id3214251" class="indexterm"></a>
            <div class="figure">
              <a id="id3214265"></a>
              <p class="title">
                <b>Figure 8.10. Example for layer mode <span class="quote">“<span class="quote">Normal</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-normal-50.jpg" alt="Example for layer mode Normal" />
                  <div class="caption">
                    <p>
                Both images are blended into each other with the same
                intensity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-normal-100.jpg" alt="Example for layer mode Normal" />
                  <div class="caption">
                    <p>
                With 100% opacity only the upper layer is shown when blending
                with <span class="quote">“<span class="quote">Normal</span>”</span>.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Normal</span>
          mode is the default layer mode. The layer on top covers the layers
          below it. If you want to see anything below the top layer when you
          use this mode, the layer must have some transparent areas.
        </p>
            <p>The equation is:</p>
            <div class="equation">
              <a id="id3214346"></a>
              <p class="title">
                <b>Equation 8.2. Equation for layer mode <span class="quote">“<span class="quote">Normal</span>”</span></b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-normal.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
          </dd>
          <dt>
            <span class="term">Dissolve</span>
          </dt>
          <dd>
            <a id="id3214379" class="indexterm"></a>
            <a id="id3214393" class="indexterm"></a>
            <div class="figure">
              <a id="id3214403"></a>
              <p class="title">
                <b>Figure 8.11. Example for layer mode <span class="quote">“<span class="quote">Dissolve</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-dissolve-50.jpg" alt="Example for layer mode Dissolve" />
                  <div class="caption">
                    <p>
                Both images are blended into each other with the same
                intensity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-dissolve-100.jpg" alt="Example for layer mode Dissolve" />
                  <div class="caption">
                    <p>
                With 100% opacity only the upper layer is shown when blending
                with <span class="quote">“<span class="quote">dissolve</span>”</span>.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Dissolve</span>
          mode dissolves the upper layer into the layer beneath it by drawing
          a random pattern of pixels in areas of partial transparency. It is
          useful as a layer mode, but it is also often useful as a painting
          mode.
        </p>
            <p>
          This is especially visible along the edges within an image. It is
          easiest to see in an enlarged screenshot. The image on the left
          illustrates <span class="quote">“<span class="quote">Normal</span>”</span> layer mode (enlarged) and the
          image on the right shows the same two layers in
          <span class="quote">“<span class="quote">Dissolve</span>”</span>
          mode, where it can be clearly seen how the pixels are dispersed.
        </p>
            <div class="figure">
              <a id="id3214497"></a>
              <p class="title">
                <b>Figure 8.12. Enlarged screenshots</b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-dissolve-nbig.jpg" alt="Enlarged screenshots" />
                  <div class="caption">
                    <p>Normal mode.</p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-dissolve-dbig.jpg" alt="Enlarged screenshots" />
                  <div class="caption">
                    <p>Dissolve mode.</p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
          </dd>
          <dt>
            <a id="layer-mode-multiply"></a>
            <span class="term">Multiply</span>
          </dt>
          <dd>
            <a id="id3180064" class="indexterm"></a>
            <a id="id3180077" class="indexterm"></a>
            <div class="figure">
              <a id="id3180087"></a>
              <p class="title">
                <b>Figure 8.13. Example for layer mode <span class="quote">“<span class="quote">Multiply</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-multiply-mask1.jpg" alt="Example for layer mode Multiply" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-multiply-mask2.jpg" alt="Example for layer mode Multiply" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Multiply</span>
          mode multiplies the pixel values of the upper layer with those of
          the layer below it and then divides the result by 255. The result is
          usually a darker image. If either layer is white, the resulting
          image is the same as the other layer (1 * I = I). If either layer
          is black, the resulting image is completely black (0 * I = 0).
        </p>
            <p>The equation is:</p>
            <div class="equation">
              <a id="id3180166"></a>
              <p class="title">
                <b>Equation 8.3. Equation for layer mode <span class="quote">“<span class="quote">Multiply</span>”</span></b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-multiply.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
            <p>
          The mode is commutative; the order of the two layers doesn't matter.
        </p>
          </dd>
          <dt>
            <span class="term">Divide</span>
          </dt>
          <dd>
            <a id="id3180204" class="indexterm"></a>
            <a id="id3180217" class="indexterm"></a>
            <div class="figure">
              <a id="id3180227"></a>
              <p class="title">
                <b>Figure 8.14. Example for layer mode <span class="quote">“<span class="quote">Divide</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-divide-mask1.jpg" alt="Example for layer mode Divide" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-divide-mask2.jpg" alt="Example for layer mode Divide" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Divide</span>
          mode multiplies each pixel value in the lower layer by 256 and then
          divides that by the corresponding pixel value of the upper layer
          plus one. (Adding one to the denominator avoids dividing by zero.)
          The resulting image is often lighter, and sometimes looks
          <span class="quote">“<span class="quote">burned out</span>”</span>.
        </p>
            <p>The equation is:</p>
            <div class="equation">
              <a id="id3196818"></a>
              <p class="title">
                <b>Equation 8.4. Equation for layer mode <span class="quote">“<span class="quote">Divide</span>”</span></b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-divide.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
          </dd>
          <dt>
            <span class="term">Screen</span>
          </dt>
          <dd>
            <a id="id3196851" class="indexterm"></a>
            <a id="id3196864" class="indexterm"></a>
            <div class="figure">
              <a id="id3196874"></a>
              <p class="title">
                <b>Figure 8.15. Example for layer mode <span class="quote">“<span class="quote">Screen</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-screen-mask1.jpg" alt="Example for layer mode Screen" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-screen-mask2.jpg" alt="Example for layer mode Screen" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Screen</span>
          mode inverts the values of each of the visible pixels in the two
          layers of the image. (That is, it subtracts each of them from 255.)
          Then it multiplies them together, divides by 255 and inverts
          this value again. The resulting image is usually brighter, and
          sometimes <span class="quote">“<span class="quote">washed out</span>”</span>
          in appearance. The exceptions to this are a black layer, which does
          not change the other layer, and a white layer, which results in a
          white image. Darker colors in the image appear to be more
          transparent.
        </p>
            <p>The equation is:</p>
            <div class="equation">
              <a id="id3196960"></a>
              <p class="title">
                <b>Equation 8.5. Equation for layer mode <span class="quote">“<span class="quote">Screen</span>”</span></b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-screen.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
            <p>
          The mode is commutative; the order of the two layers doesn't matter.
        </p>
          </dd>
          <dt>
            <a id="layer-mode-overlay"></a>
            <span class="term">Overlay</span>
          </dt>
          <dd>
            <a id="id3197001" class="indexterm"></a>
            <a id="id3197014" class="indexterm"></a>
            <div class="figure">
              <a id="id3197024"></a>
              <p class="title">
                <b>Figure 8.16. Example for layer mode <span class="quote">“<span class="quote">Overlay</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-overlay-mask1.jpg" alt="Example for layer mode Overlay" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-overlay-mask2.jpg" alt="Example for layer mode Overlay" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Overlay</span>
          mode inverts the pixel value of the lower layer, multiplies it by
          two times the pixel value of the upper layer, adds that to the
          original pixel value of the lower layer, divides by 255, and then
          multiplies by the pixel value of the original lower layer and
          divides by 255 again. It darkens the image, but not as much as with
          <span class="quote">“<span class="quote">Multiply</span>”</span> mode.
        </p>
            <p>
          The equation is:
          <sup>[<a id="gimp-layer-mode-bug162395" href="#ftn.gimp-layer-mode-bug162395" class="footnote">4</a>]</sup>
        </p>
            <div class="equation">
              <a id="id3197129"></a>
              <p class="title">
                <b>Equation 8.6. Equation for layer mode <span class="quote">“<span class="quote">Overlay</span>”</span></b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-overlay.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
          </dd>
          <dt>
            <span class="term">Dodge</span>
          </dt>
          <dd>
            <a id="id3197162" class="indexterm"></a>
            <a id="id3197175" class="indexterm"></a>
            <div class="figure">
              <a id="id3197185"></a>
              <p class="title">
                <b>Figure 8.17. Example for layer mode <span class="quote">“<span class="quote">Dodge</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-dodge-mask1.jpg" alt="Example for layer mode Dodge" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-dodge-mask2.jpg" alt="Example for layer mode Dodge" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Dodge</span>
          mode multiplies the pixel value of the lower layer by 256, then
          divides that by the inverse of the pixel value of the top layer. The
          resulting image is usually lighter, but some colors may be inverted.
        </p>
            <p>
          In photography, dodging is a technique used in a darkroom to
          decrease the exposure in particular areas of the image. This brings
          out details in the shadows. When used for this purpose, dodge may
          work best on Grayscale images and with a painting tool, rather than
          as a layer mode.
        </p>
            <p>The equation is:</p>
            <div class="equation">
              <a id="id3183313"></a>
              <p class="title">
                <b>Equation 8.7. Equation for layer mode <span class="quote">“<span class="quote">Dodge</span>”</span></b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-dodge.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
          </dd>
          <dt>
            <span class="term">Burn</span>
          </dt>
          <dd>
            <a id="id3183344" class="indexterm"></a>
            <a id="id3183358" class="indexterm"></a>
            <div class="figure">
              <a id="id3183368"></a>
              <p class="title">
                <b>Figure 8.18. Example for layer mode <span class="quote">“<span class="quote">Burn</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-burn-mask1.jpg" alt="Example for layer mode Burn" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-burn-mask2.jpg" alt="Example for layer mode Burn" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Burn</span>
          mode inverts the pixel value of the lower layer, multiplies it by
          256, divides that by one plus the pixel value of the upper layer,
          then inverts the result. It tends to make the image darker, somewhat
          similar to <span class="quote">“<span class="quote">Multiply</span>”</span> mode.
        </p>
            <p>
          In photography, burning is a technique used in a darkroom to
          increase the exposure in particular areas of the image. This brings
          out details in the highlights. When used for this purpose, burn may
          work best on Grayscale images and with a painting tool, rather than
          as a layer mode.
        </p>
            <p>The equation is:</p>
            <div class="equation">
              <a id="id3183459"></a>
              <p class="title">
                <b>Equation 8.8. Equation for layer mode <span class="quote">“<span class="quote">Burn</span>”</span></b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-burn.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
          </dd>
          <dt>
            <span class="term">Hard light</span>
          </dt>
          <dd>
            <a id="id3183491" class="indexterm"></a>
            <a id="id3183505" class="indexterm"></a>
            <div class="figure">
              <a id="id3183514"></a>
              <p class="title">
                <b>Figure 8.19. Example for layer mode <span class="quote">“<span class="quote">Hard light</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-hard-light-mask1.jpg" alt="Example for layer mode Hard light" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-hard-light-mask2.jpg" alt="Example for layer mode Hard light" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Hard light</span>
          mode is rather complicated because the equation consists of two
          parts, one for darker colors and one for brighter colors. If the
          pixel color of the upper layer is greater than 128, the layers are
          combined according to the first formula shown below. Otherwise, the
          pixel values of the upper and lower layers are multiplied together
          and multiplied by two, then divided by 256. You might use this mode
          to combine two photographs and obtain bright colors and sharp edges.
        </p>
            <p>The equation is complex and different according to
          the value &gt;128 or 128 :</p>
            <div class="equation">
              <a id="id3183598"></a>
              <p class="title">
                <b>Equation 8.9. 
            Equation for layer mode <span class="quote">“<span class="quote">Hard light</span>”</span>, M &gt; 128
          </b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-hard-light1.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
            <div class="equation">
              <a id="id3183622"></a>
              <p class="title">
                <b>Equation 8.10. 
            Equation for layer mode <span class="quote">“<span class="quote">Hard light</span>”</span>, M ≤ 128
          </b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-hard-light2.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
          </dd>
          <dt>
            <span class="term">Soft light</span>
          </dt>
          <dd>
            <a id="id3183657" class="indexterm"></a>
            <a id="id3183671" class="indexterm"></a>
            <div class="figure">
              <a id="id3183681"></a>
              <p class="title">
                <b>Figure 8.20. Example for layer mode <span class="quote">“<span class="quote">Soft light</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-soft-light-mask1.jpg" alt="Example for layer mode Soft light" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-soft-light-mask2.jpg" alt="Example for layer mode Soft light" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Soft light</span> is not related to
          <span class="quote">“<span class="quote">Hard light</span>”</span> in anything but the name, but it
          does tend to make the edges softer and the colors not so
          bright. It is similar to <span class="quote">“<span class="quote">Overlay</span>”</span> mode. In some
          versions of <acronym class="acronym">GIMP</acronym>, <span class="quote">“<span class="quote">Overlay</span>”</span>
          mode and <span class="quote">“<span class="quote">Soft light</span>”</span> mode are identical.
        </p>
            <p>The equation is complicated. It needs Rs, the
          result of Screen mode :
        </p>
            <div class="equation">
              <a id="id3183778"></a>
              <p class="title">
                <b>Equation 8.11. Equation for layer mode <span class="quote">“<span class="quote">Screen</span>”</span></b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-soft-light1.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
            <div class="equation">
              <a id="id3183800"></a>
              <p class="title">
                <b>Equation 8.12. Equation for layer mode <span class="quote">“<span class="quote">Soft light</span>”</span></b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-soft-light2.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
          </dd>
          <dt>
            <span class="term">Grain extract</span>
          </dt>
          <dd>
            <a id="id3183833" class="indexterm"></a>
            <a id="id3183846" class="indexterm"></a>
            <div class="figure">
              <a id="id3183856"></a>
              <p class="title">
                <b>Figure 8.21. Example for layer mode <span class="quote">“<span class="quote">Grain extract</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-grain-extract-mask1.jpg" alt="Example for layer mode Grain extract" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-grain-extract-mask2.jpg" alt="Example for layer mode Grain extract" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Grain extract</span>
          mode is supposed to extract the <span class="quote">“<span class="quote">film grain</span>”</span>
          from a layer to produce a new layer that is pure grain, but it can
          also be useful for giving images an embossed appearance. It
          subtracts the pixel value of the upper layer from that of the lower
          layer and adds 128.
        </p>
            <p>The equation is:</p>
            <div class="equation">
              <a id="id3183940"></a>
              <p class="title">
                <b>Equation 8.13. Equation for layer mode <span class="quote">“<span class="quote">Grain extract</span>”</span></b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-grainextract.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
          </dd>
          <dt>
            <span class="term">Grain merge</span>
          </dt>
          <dd>
            <a id="id3183972" class="indexterm"></a>
            <a id="id3183985" class="indexterm"></a>
            <p>
          There are two more layer modes, but these are available only for
          painting tools. See
          <a class="link" href="gimp-tools-paint.html#gimp-tool-painting-modes">Painting Modes</a>
          for detailed information.
        </p>
            <div class="figure">
              <a id="id3184007"></a>
              <p class="title">
                <b>Figure 8.22. Example for layer mode <span class="quote">“<span class="quote">Grain merge</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-grain-merge-mask1.jpg" alt="Example for layer mode Grain merge" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-grain-merge-mask2.jpg" alt="Example for layer mode Grain merge" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Grain merge</span> mode merges a grain layer
          (possibly one created from the <span class="quote">“<span class="quote">Grain extract</span>”</span>
          mode) into the current layer, leaving a grainy version of the
          original layer. It does just the opposite of
          <span class="quote">“<span class="quote">Grain extract</span>”</span>. It adds the pixel values of the
          upper and lower layers together and subtracts 128.
        </p>
            <p>The equation is:</p>
            <div class="equation">
              <a id="id3184094"></a>
              <p class="title">
                <b>Equation 8.14. Equation for layer mode <span class="quote">“<span class="quote">Grain merge</span>”</span></b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-grainmerge.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
          </dd>
          <dt>
            <a id="layer-mode-difference"></a>
            <span class="term">Difference</span>
          </dt>
          <dd>
            <a id="id3184128" class="indexterm"></a>
            <a id="id3184142" class="indexterm"></a>
            <div class="figure">
              <a id="id3184152"></a>
              <p class="title">
                <b>Figure 8.23. Example for layer mode <span class="quote">“<span class="quote">Difference</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-difference-mask1.jpg" alt="Example for layer mode Difference" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-difference-mask2.jpg" alt="Example for layer mode Difference" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Difference</span>
          mode subtracts the pixel value of the upper layer from that of the
          lower layer and then takes the absolute value of the result. No
          matter what the original two layers look like, the result looks
          rather odd. You can use it to invert elements of an image.
        </p>
            <p>The equation is:</p>
            <div class="equation">
              <a id="id3187922"></a>
              <p class="title">
                <b>Equation 8.15. Equation for layer mode <span class="quote">“<span class="quote">Difference</span>”</span></b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-difference.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
            <p>
          The mode is commutative; the order of the two layers doesn't matter.
        </p>
          </dd>
          <dt>
            <span class="term">Addition</span>
          </dt>
          <dd>
            <a id="id3187959" class="indexterm"></a>
            <a id="id3187973" class="indexterm"></a>
            <div class="figure">
              <a id="id3187983"></a>
              <p class="title">
                <b>Figure 8.24. Example for layer mode <span class="quote">“<span class="quote">Addition</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-addition-mask1.jpg" alt="Example for layer mode Addition" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-addition-mask2.jpg" alt="Example for layer mode Addition" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Addition</span>
          mode is very simple. The pixel values of the upper and lower layers
          are added to each other. The resulting image is usually lighter. The
          equation can result in color values greater than 255, so some of the
          light colors may be set to the maximum value of 255.
        </p>
            <p>The equation is:</p>
            <div class="equation">
              <a id="id3188062"></a>
              <p class="title">
                <b>Equation 8.16. Equation for layer mode <span class="quote">“<span class="quote">Addition</span>”</span></b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-addition.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
            <p>
          The mode is commutative; the order of the two layers doesn't matter.
        </p>
          </dd>
          <dt>
            <span class="term">Subtract</span>
          </dt>
          <dd>
            <a id="id3188099" class="indexterm"></a>
            <a id="id3188113" class="indexterm"></a>
            <div class="figure">
              <a id="id3188123"></a>
              <p class="title">
                <b>Figure 8.25. Example for layer mode <span class="quote">“<span class="quote">Subtract</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-subtract-mask1.jpg" alt="Example for layer mode Subtract" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-subtract-mask2.jpg" alt="Example for layer mode Subtract" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Subtract</span>
          mode subtracts the pixel values of the upper layer from the pixel
          values of the lower layer. The resulting image is normally darker.
          You might get a lot of black or near-black in the resulting image.
          The equation can result in negative color values, so some of the
          dark colors may be set to the minimum value of 0.
        </p>
            <p>The equation is:</p>
            <div class="equation">
              <a id="id3188203"></a>
              <p class="title">
                <b>Equation 8.17. Equation for layer mode <span class="quote">“<span class="quote">Subtraction</span>”</span></b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-subtract.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
          </dd>
          <dt>
            <span class="term">Darken only</span>
          </dt>
          <dd>
            <a id="id3188235" class="indexterm"></a>
            <a id="id3188249" class="indexterm"></a>
            <div class="figure">
              <a id="id3188258"></a>
              <p class="title">
                <b>Figure 8.26. Example for layer mode <span class="quote">“<span class="quote">Darken only</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-darken-only-mask1.jpg" alt="Example for layer mode Darken only" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-darken-only-mask2.jpg" alt="Example for layer mode Darken only" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guimenuitem">Darken only</span>
          mode compares each component of each pixel in the upper layer with
          the corresponding one in the lower layer and uses the smaller value
          in the resulting image. Completely white layers have no effect on
          the final image and completely black layers result in a black image.
        </p>
            <p>The equation is:</p>
            <div class="equation">
              <a id="id3188338"></a>
              <p class="title">
                <b>Equation 8.18. Equation for layer mode <span class="quote">“<span class="quote">Darken only</span>”</span></b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-darken.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
            <p>
          The mode is commutative; the order of the two layers doesn't matter.
        </p>
          </dd>
          <dt>
            <span class="term">Lighten only</span>
          </dt>
          <dd>
            <a id="id3188375" class="indexterm"></a>
            <a id="id3188389" class="indexterm"></a>
            <div class="figure">
              <a id="id3188399"></a>
              <p class="title">
                <b>Figure 8.27. Example for layer mode <span class="quote">“<span class="quote">Lighten only</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-lighten-only-mask1.jpg" alt="Example for layer mode Lighten only" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-lighten-only-mask2.jpg" alt="Example for layer mode Lighten only" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guimenuitem">Lighten only</span>
          mode compares each component of each pixel in the upper layer with
          the corresponding one in the lower layer and uses the larger value
          in the resulting image. Completely black layers have no effect on
          the final image and completely white layers result in a white image.
        </p>
            <p>The equation is:</p>
            <div class="equation">
              <a id="id3188479"></a>
              <p class="title">
                <b>Equation 8.19. Equation for layer mode <span class="quote">“<span class="quote">Lighten only</span>”</span></b>
              </p>
              <div class="equation-contents">
                <div>
                  <img src="images/math/layer-mode-lighten.png" />
                </div>
              </div>
            </div>
            <br class="equation-break" />
            <p>
          The mode is commutative; the order of the two layers doesn't matter.
        </p>
          </dd>
          <dt>
            <span class="term">Hue</span>
          </dt>
          <dd>
            <a id="id3188516" class="indexterm"></a>
            <a id="id3188530" class="indexterm"></a>
            <div class="figure">
              <a id="id3188539"></a>
              <p class="title">
                <b>Figure 8.28. Example for layer mode <span class="quote">“<span class="quote">Hue</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-hue-mask1.jpg" alt="Example for layer mode Hue" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-hue-mask2.jpg" alt="Example for layer mode Hue" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Hue</span>
          mode uses the hue of the upper layer and the saturation and value of
          the lower layer to form the resulting image. However, if the
          saturation of the upper layer is zero, the hue is taken from the
          lower layer, too.
        </p>
          </dd>
          <dt>
            <span class="term">Saturation</span>
          </dt>
          <dd>
            <a id="id3188625" class="indexterm"></a>
            <a id="id3188639" class="indexterm"></a>
            <div class="figure">
              <a id="id3188648"></a>
              <p class="title">
                <b>Figure 8.29. Example for layer mode <span class="quote">“<span class="quote">Saturation</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-saturation-mask1.jpg" alt="Example for layer mode Saturation" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-saturation-mask2.jpg" alt="Example for layer mode Saturation" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Saturation</span>
          mode uses the saturation of the upper layer and the hue and value of
          the lower layer to form the resulting image.
        </p>
          </dd>
          <dt>
            <span class="term">Color</span>
          </dt>
          <dd>
            <a id="id3188732" class="indexterm"></a>
            <a id="id3188746" class="indexterm"></a>
            <div class="figure">
              <a id="id3188756"></a>
              <p class="title">
                <b>Figure 8.30. Example for layer mode <span class="quote">“<span class="quote">Color</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-color-mask1.jpg" alt="Example for layer mode Color" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-color-mask2.jpg" alt="Example for layer mode Color" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Color</span>
          mode uses the hue and saturation of the upper layer and the value of
          the lower layer to form the resulting image.
        </p>
          </dd>
          <dt>
            <span class="term">Value</span>
          </dt>
          <dd>
            <a id="id3188840" class="indexterm"></a>
            <a id="id3188853" class="indexterm"></a>
            <div class="figure">
              <a id="id3188863"></a>
              <p class="title">
                <b>Figure 8.31. Example for layer mode <span class="quote">“<span class="quote">Value</span>”</span></b>
              </p>
              <div class="figure-contents">
                <div class="mediaobject">
                  <img src="images/using/layer-mode-value-mask1.jpg" alt="Example for layer mode Value" />
                  <div class="caption">
                    <p>
                Mask 1 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
                <div class="mediaobject">
                  <img src="images/using/layer-mode-value-mask2.jpg" alt="Example for layer mode Value" />
                  <div class="caption">
                    <p>
                Mask 2 is used as upper layer with 100% opacity.
              </p>
                  </div>
                </div>
              </div>
            </div>
            <br class="figure-break" />
            <p>
          <span class="guilabel">Value</span>
          mode uses the value of the upper layer and the saturation and hue of
          the lower layer to form the resulting image. You can use this mode
          to reveal details in dark and light areas of an image without
          changing the saturation.
        </p>
          </dd>
        </dl>
      </div>
      <p>
    Each layer in an image can have a different layer mode. (Of course, the
    layer mode of the bottom layer of an image has no effect.) The effects of
    these layer modes are cumulative. The image shown below has three layers.
    The top layer consists of Wilber surrounded by transparency and has a
    layer mode of <span class="quote">“<span class="quote">Difference</span>”</span>.
    The second layer is solid light blue and has a layer mode of
    <span class="quote">“<span class="quote">Addition</span>”</span>. The bottom layer is filled with the
    <span class="quote">“<span class="quote">Red Cubes</span>”</span> pattern.
  </p>
      <div class="figure">
        <a id="id3185093"></a>
        <p class="title">
          <b>Figure 8.32. Multi layer example</b>
        </p>
        <div class="figure-contents">
          <div class="mediaobject">
            <img src="images/glossary/modes-multilayer.png" alt="Multi layer example" />
          </div>
        </div>
      </div>
      <br class="figure-break" />
      <p>
    <acronym class="acronym">GIMP</acronym> also has similar modes which are used for the
    painting tools. These are the same twenty-one modes as the layer modes,
    plus additionally two modes which are specific to the painting tools. You
    can set these modes from the <span class="guilabel">Mode</span> menu in the Tools
    option dialog. In the equations shown above, the layer you are painting on
    is the <span class="quote">“<span class="quote">lower layer</span>”</span> and the pixels painted by the tool are
    the <span class="quote">“<span class="quote">upper layer</span>”</span>. Naturally, you do not need more than one
    layer in the image to use these modes, since they only operate on the
    current layer and the selected painting tool.
  </p>
      <p>
    See <a class="xref" href="gimp-tools-paint.html#gimp-paint-mode-examples" title="3.1.3. Paint Mode Examples">Section 3.1.3, “Paint Mode Examples”</a> for a description of the
    two additional painting modes.
  </p>
      <div class="footnotes">
        <br />
        <hr width="100" align="left" />
        <div class="footnote">
          <p><sup>[<a id="ftn.gimp-layer-mode-bug162395" href="#gimp-layer-mode-bug162395" class="para">4</a>] </sup>
              The equation is the *theoretical* equation. Due to
              <a class="ulink" href="http://bugzilla.gnome.org/show_bug.cgi?id=162395" target="_top"> Bug
              #162395 </a>, the actual equation is equivalent to Soft
              light. It is difficult to fix this bug without changing the
              appearance of existing images.
            </p>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="gimp-image-combining.html"><img src="images/prev.png" alt="Prev" /></a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="gimp-image-combining.html">
              <img src="images/up.png" alt="Up" />
            </a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="gimp-using-layers.html"><img src="images/next.png" alt="Next" /></a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top"><a accesskey="p" href="gimp-image-combining.html">Chapter 8. Combining Images</a> </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">
              <img src="images/home.png" alt="Home" />
            </a>
          </td>
          <td width="40%" align="right" valign="top"> <a accesskey="n" href="gimp-using-layers.html">3. Creating New Layers</a></td>
        </tr>
      </table>
    </div>
  </body>
</html>
